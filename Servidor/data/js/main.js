function loadData(){return new Promise((res,rej)=>{var arr=[];var xmlhttp=new XMLHttpRequest();xmlhttp.onerror=e=>{rej(e)};xmlhttp.onload=function(){var arr_str=this.responseText.split(' ');arr_str.pop();for(var i=0;i<arr_str.length;i++){arr.push([i+1,parseFloat(arr_str[i])])};res(arr)};xmlhttp.open("GET","/data",true);xmlhttp.send()})};loadData().then(data=>{Highcharts.chart('container',{chart:{zoomType:'x'},title:{text:"Data Logger con ESP32",style:{fontFamily:"Tahoma",color:"#333333",fontSize:"16px",fontWeight:"bold",fotStyle:"normal"}},subtitle:{text:"Tension medida",style:{fontFamily:"Monaco",color:"#666666",fontSize:"12px",fontWeight:"normal",fontStyle:"italic"}},tooltip:{animation:false, enabled:true, shadow:false, crosshairs:true, valueSuffix:" V"},xAxis:{title:{text:"Tiempo [ms]"}},yAxis:{title:{text:"Tension [V]"}},credits:{enabled:false},exporting:{buttons:{contextButton:{menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"]}}},lang:{contextButtonTitle:"Opciones",viewFullscreen:"Pantalla completa",printChart:"Imprimir",downloadPNG:"Descargar PNG",downloadJPEG:"Descargar JPEG",downloadPDF:"Descargar PDF",downloadSVG:"Descagrar SVG",downloadCSV:"Descargar CSV",downloadXLS:"Descargar XLS",resetZoom:"Reiniciar zoom",resetZoomTitle:"Zoom 1:1"},plotOptions:{series:{lineWidth:5,states:{hover:{enabled:true,lineWidth:5}}}},series:[{data:data,color:'#E98580',name:'Canal 1'},{color:'#7CB5EC',name:'Canal 2'},{color:'#B5F3A8',name:'Canal 3'},{color:'#F9C192',name:'Canal 4'}]})}).catch(e=>{console.error(e)});